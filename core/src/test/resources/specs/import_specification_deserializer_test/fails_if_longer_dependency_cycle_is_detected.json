
{
    "version": "1",
    "sources": [{
        "type": "bigquery",
        "name": "a-source",
        "query": "SELECT id, name FROM my.table"
    }],
    "targets": {
        "nodes": [{
            "source": "a-source",
            "name": "a-node-target",
            "write_mode": "merge",
            "labels": ["Label1", "Label2"],
            "properties": [
                {"source_field": "field_1", "target_property": "property1"},
                {"source_field": "field_2", "target_property": "property2"}
            ],
          "schema": {
              "key_constraints": [{
                 "name": "a-key-constraint",
                 "label": "Label1",
                 "properties": ["property1"]
              }]
          }
        }],
        "relationships": [{
            "name": "a-relationship-target",
            "depends_on": ["a-query-target"],
            "source": "a-source",
            "type": "TYPE",
            "start_node_reference": "a-node-target",
            "end_node_reference": "a-node-target"
        }],
        "queries": [
            {
                "name": "a-query-target",
                "source": "a-source",
                "depends_on": ["another-query-target"],
                "query": "UNWIND $rows AS row CREATE (n:ANode) SET n = row"
            },
            {
                "name": "another-query-target",
                "source": "a-source",
                "depends_on": ["a-relationship-target"],
                "query": "UNWIND $rows AS row CREATE (n:AnotherNode) SET n = row"
            }
        ]
    }
}
